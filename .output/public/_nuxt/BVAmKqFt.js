import{i as Y,s as A,_ as Z}from"./BrI8fkpe.js";import{d as ee,t as g,E as B,h as k,r as M,F as te,i as ne,o as re,T as oe,A as ie,v as w,x as O,z as se,G as P,H as S,I,J as $}from"./wnhiutJ0.js";import{g as le}from"./DBO2yGN5.js";function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L(Object(n),!0).forEach(function(r){ce(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ce(e,t,n){return t=ae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(e){var t=ue(e,"string");return typeof t=="symbol"?t:t+""}function ue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D(e){return e._type==="span"&&"text"in e&&typeof e.text=="string"&&(typeof e.marks>"u"||Array.isArray(e.marks)&&e.marks.every(t=>typeof t=="string"))}function H(e){return typeof e._type=="string"&&e._type[0]!=="@"&&(!("markDefs"in e)||!e.markDefs||Array.isArray(e.markDefs)&&e.markDefs.every(t=>typeof t._key=="string"))&&"children"in e&&Array.isArray(e.children)&&e.children.every(t=>typeof t=="object"&&"_type"in t)}function z(e){return H(e)&&"listItem"in e&&typeof e.listItem=="string"&&(typeof e.level>"u"||typeof e.level=="number")}function G(e){return e._type==="@list"}function J(e){return e._type==="@span"}function Q(e){return e._type==="@text"}const K=["strong","em","code","underline","strike-through"];function de(e,t,n){if(!D(e)||!e.marks)return[];if(!e.marks.length)return[];const r=e.marks.slice(),c={};return r.forEach(o=>{c[o]=1;for(let l=t+1;l<n.length;l++){const a=n[l];if(a&&D(a)&&Array.isArray(a.marks)&&a.marks.indexOf(o)!==-1)c[o]++;else break}}),r.sort((o,l)=>fe(c,o,l))}function fe(e,t,n){const r=e[t],c=e[n];if(r!==c)return c-r;const o=K.indexOf(t),l=K.indexOf(n);return o!==l?o-l:t.localeCompare(n)}function me(e){var t;const{children:n,markDefs:r=[]}=e;if(!n||!n.length)return[];const c=n.map(de),o={_type:"@span",children:[],markType:"<unknown>"};let l=[o];for(let a=0;a<n.length;a++){const v=n[a];if(!v)continue;const b=c[a]||[];let h=1;if(l.length>1)for(h;h<l.length;h++){const s=((t=l[h])==null?void 0:t.markKey)||"",u=b.indexOf(s);if(u===-1)break;b.splice(u,1)}l=l.slice(0,h);let i=l[l.length-1];if(i){for(const s of b){const u=r.find(y=>y._key===s),m=u?u._type:s,d={_type:"@span",_key:v._key,children:[],markDef:u,markType:m,markKey:s};i.children.push(d),l.push(d),i=d}if(D(v)){const s=v.text.split(`
`);for(let u=s.length;u-- >1;)s.splice(u,0,`
`);i.children=i.children.concat(s.map(u=>({_type:"@text",text:u})))}else i.children=i.children.concat(v)}}return o.children}function ye(e,t){const n=[];let r;for(let c=0;c<e.length;c++){const o=e[c];if(o){if(!z(o)){n.push(o),r=void 0;continue}if(!r){r=T(o,c,t),n.push(r);continue}if(pe(o,r)){r.children.push(o);continue}if((o.level||1)>r.level){const l=T(o,c,t);if(t==="html"){const a=r.children[r.children.length-1],v=C(C({},a),{},{children:[...a.children,l]});r.children[r.children.length-1]=v}else r.children.push(l);r=l;continue}if((o.level||1)<r.level){const l=n[n.length-1],a=l&&E(l,o);if(a){r=a,r.children.push(o);continue}r=T(o,c,t),n.push(r);continue}if(o.listItem!==r.listItem){const l=n[n.length-1],a=l&&E(l,{level:o.level||1});if(a&&a.listItem===o.listItem){r=a,r.children.push(o);continue}else{r=T(o,c,t),n.push(r);continue}}console.warn("Unknown state encountered for block",o),n.push(o)}}return n}function pe(e,t){return(e.level||1)===t.level&&e.listItem===t.listItem}function T(e,t,n){return{_type:"@list",_key:`${e._key||`${t}`}-parent`,mode:n,level:e.level||1,listItem:e.listItem,children:[e]}}function E(e,t){const n=t.level||1,r=t.listItem||"normal",c=typeof t.listItem=="string";if(G(e)&&(e.level||1)===n&&c&&(e.listItem||"normal")===r)return e;if(!("children"in e))return;const o=e.children[e.children.length-1];return o&&!D(o)?E(o,t):void 0}function R(e){let t="";return e.children.forEach(n=>{Q(n)?t+=n.text:J(n)&&(t+=R(n))}),t}const he="html";function ke(e,t){const{block:n,list:r,listItem:c,marks:o,types:l,...a}=t;return{...e,block:j(e,t,"block"),list:j(e,t,"list"),listItem:j(e,t,"listItem"),marks:j(e,t,"marks"),types:j(e,t,"types"),...a}}function j(e,t,n){const r=t[n],c=e[n];return typeof r=="function"||r&&typeof c=="function"?r:r?{...c,...r}:c}const f=e=>(t,{slots:n})=>{var r;return k(e,(r=n.default)==null?void 0:r.call(n))},ve=({value:e},{slots:t})=>{var n;return k("a",{href:e==null?void 0:e.href},(n=t.default)==null?void 0:n.call(t))},_e={textDecoration:"underline"},ge={code:f("code"),em:f("em"),link:ve,"strike-through":f("del"),strong:f("strong"),underline:(e,{slots:t})=>{var n;return k("span",{style:_e},(n=t.default)==null?void 0:n.call(t))}},be={number:f("ol"),bullet:f("ul")},we=f("li"),N=(e,t)=>`[@portabletext/vue] Unknown ${e}, specify a component for it in the \`components.${t}\` prop`,X=e=>N(`block type "${e}"`,"types"),xe=e=>N(`mark type "${e}"`,"marks"),Ie=e=>N(`block style "${e}"`,"block"),Oe=e=>N(`list style "${e}"`,"list"),je=e=>N(`list item style "${e}"`,"listItem");function Ne(e){console.warn(e)}const U={display:"none"},$e=({value:e,isInline:t})=>{const n=X(e._type);return t?k("span",{style:U},n):k("div",{style:U},n)},Te=({markType:e},{slots:t})=>{var n;return k("span",{class:`unknown__pt__mark__${e}`},(n=t.default)==null?void 0:n.call(t))},Be=f("p"),De=f("ul"),Ee=f("li"),Ae=()=>k("br"),Me={normal:f("p"),blockquote:f("blockquote"),h1:f("h1"),h2:f("h2"),h3:f("h3"),h4:f("h4"),h5:f("h5"),h6:f("h6")},q={types:{},block:Me,marks:ge,list:be,listItem:we,hardBreak:Ae,unknownType:$e,unknownMark:Te,unknownList:De,unknownListItem:Ee,unknownBlockStyle:Be},Pe=(e,t)=>{function n(i){const{node:s,index:u,isInline:m}=i,d=s._key||`node-${u}`;return G(s)?o(s,u,d):z(s)?c(s,u,d):J(s)?l(s,u,d):r(s)?h(s,u,d,m):H(s)?a(s,u,d,m):Q(s)?v(s,d):b(s,u,d,m)}function r(i){return i._type in e.types}function c(i,s,u){const m=F({node:i,index:s,isInline:!1,renderNode:n}),d=e.listItem,y=(typeof d=="function"?d:d[i.listItem])||e.unknownListItem;if(y===e.unknownListItem){const _=i.listItem||"bullet";t(je(_),{type:_,nodeType:"listItemStyle"})}let p=m.children;if(i.style&&i.style!=="normal"){const{listItem:_,...x}=i;p=n({node:x,index:s,isInline:!1,renderNode:n})}return k(y,{key:u,value:i,index:s,isInline:!1,renderNode:n},()=>p)}function o(i,s,u){const m=i.children.map((p,_)=>n({node:p._key?p:{...p,_key:`li-${s}-${_}`},index:_,isInline:!1,renderNode:n})),d=e.list,y=(typeof d=="function"?d:d[i.listItem])||e.unknownList;if(y===e.unknownList){const p=i.listItem||"bullet";t(Oe(p),{nodeType:"listStyle",type:p})}return k(y,{key:u,value:i,index:s,isInline:!1,renderNode:n},()=>m)}function l(i,s,u){const{markDef:m,markType:d,markKey:y}=i,p=e.marks[d]||e.unknownMark,_=i.children.map((x,W)=>n({node:x,index:W,isInline:!0,renderNode:n}));return p===e.unknownMark&&t(xe(d),{nodeType:"mark",type:d}),k(p,{key:u,text:R(i),value:m,markType:d,markKey:y,renderNode:n},()=>_)}function a(i,s,u,m){const{_key:d,children:y,...p}=F({node:i,index:s,isInline:m,renderNode:n}),_=p.node.style||"normal",x=(typeof e.block=="function"?e.block:e.block[_])||e.unknownBlockStyle;return x===e.unknownBlockStyle&&t(Ie(_),{nodeType:"blockStyle",type:_}),k(x,{key:u,...p,value:p.node,renderNode:n},()=>y)}function v(i,s){if(i.text===`
`){const u=e.hardBreak;return u?k(u,{key:s}):`
`}return i.text}function b(i,s,u,m){const d={value:i,isInline:m,index:s,renderNode:n};t(X(i._type),{nodeType:"block",type:i._type});const y=e.unknownType;return k(y,{key:u,...d})}function h(i,s,u,m){const d={value:i,isInline:m,index:s,renderNode:n},y=e.types[i._type];return y?k(y,{key:u,...d}):void 0}return n};function F(e){const{node:t,index:n,isInline:r,renderNode:c}=e,o=me(t).map((l,a)=>c({node:l,isInline:!0,index:a,renderNode:c}));return{_key:t._key||`block-${n}`,children:o,index:n,isInline:r,node:t}}const V=ee({__name:"vue-portable-text",props:{value:{},components:{},onMissingComponent:{type:[Function,Boolean],default:()=>Ne},listNestingMode:{}},setup(e){function t(){}const n=e,r=()=>{const c=n.onMissingComponent||t,o=Array.isArray(n.value)?n.value:[n.value],l=ye(o,n.listNestingMode||he),a=n.components?ke(q,n.components):q,v=Pe(a,c);return l.map((b,h)=>v({node:b,index:h,isInline:!1,renderNode:v}))};return(c,o)=>(g(),B(r))}}),Se={key:0,class:"bg-white w-screen h-[100dvh] fixed top-0 left-0"},Le={key:1},Ce={id:"header-component"},Ke={id:"about",class:"bg-lightgrey w-auto p-20px flex gap-20px pt-20vh flex-col-reverse md:flex-row overflow-y-scroll md:overflow-y-unset justify-unset md:justify-between h-auto md:h-[100dvh]"},Ue={id:"aboutText",class:"relative h-full flex flex-col justify-between leading-normal w-full md:w-50vw"},qe={id:"aboutTopText",class:"upper text-[.9rem] leading-[125%] *:mb-4"},Fe={key:0,id:"mainImg",class:"h-full w-auto md:max-w-40vw"},Ve=["src"],He={class:"bottom text-[.9rem] leading-[125%] mt-4 mb-8 md:mt-0 md:mb-0"},ze={key:0,id:"mainImg",class:"h-full w-auto md:max-w-40vw"},Ge=["src"],Je={methods:{beforeEnter(e){e.style.opacity=0},enter(e,t){e.offsetHeight,e.style.transition="opacity 0.5s",e.style.opacity=1,t()},leave(e,t){e.style.transition="opacity 0.5s",e.style.opacity=0,t()},imageUrlFor(e){return`path/to/images/${e}`}}},We=Object.assign(Je,{__name:"about",setup(e){const t=Y(A),n=M(!0),r=M([]),c=te();let o=ne(()=>c.isMobile);const l=async()=>{n.value=!0;try{const a=await A.fetch(le`*[_type == "about"][0]`);r.value=a}catch(a){console.error(a)}finally{n.value=!1}};return re(async()=>{await l()}),(a,v)=>{const b=Z;return g(),B(oe,{name:"fade",onBeforeEnter:a.beforeEnter,onEnter:a.enter,onLeave:a.leave},{default:ie(()=>[n.value?(g(),w("div",Se)):(g(),w("div",Le,[O("div",Ce,[se(b)]),O("main",Ke,[O("div",Ue,[O("div",qe,[(g(!0),w(P,null,S(r.value.text_top,h=>(g(),B(I(V),{key:h._key,value:[h]},null,8,["value"]))),128))]),I(o)?(g(),w("figure",Fe,[r.value.cover_image.asset._ref?(g(),w("img",{key:0,src:I(t).image(r.value.cover_image.asset._ref),class:"pic w-full h-full object-cover"},null,8,Ve)):$("",!0)])):$("",!0),O("div",He,[(g(!0),w(P,null,S(r.value.text_bottom,h=>(g(),B(I(V),{key:h._key,value:[h]},null,8,["value"]))),128))])]),I(o)?$("",!0):(g(),w("figure",ze,[r.value.cover_image.asset._ref?(g(),w("img",{key:0,src:I(t).image(r.value.cover_image.asset._ref),class:"pic w-full h-full object-cover"},null,8,Ge)):$("",!0)]))])]))]),_:1},8,["onBeforeEnter","onEnter","onLeave"])}}});export{We as default};
