import{i as m,s as d,_ as y}from"./BHNlKC2o.js";import{r as u,o as w,E as b,A as x,T as k,t as s,v as a,x as r,z as M,F as _,G as v,a4 as B,H as E,I as H,a5 as L,_ as T}from"./oKutT0nK.js";import{g as D}from"./DBO2yGN5.js";const I={key:0,class:"bg-white w-screen h-screen fixed top-0 left-0"},j={key:1},P={id:"header-component"},$={id:"projectIndex",class:"bg-darkgrey w-auto h-screen p-20px grid gap-6px auto-rows-1em grid-cols-24 pt-20vh text-white"},C={id:"mainImg",class:"relative h-full w-full col-start-1 col-span-7"},F=["src"],N={id:"projectIndexText",class:"relative h-full w-full DM-Mono leading-tight flex flex-col leading-normal col-start-9 col-span-16"},V=["onMouseover"],z=["href"],A=["innerHTML"],U=["innerHTML"],q=r("p",{class:"projectIndexArrow self-center col-start-10 col-span-1 text-right"},null,-1),G={methods:{beforeEnter(e){e.style.opacity=0},enter(e,n){e.offsetHeight,e.style.transition="opacity 0.5s",e.style.opacity=1,n()},leave(e,n){e.style.transition="opacity 0.5s",e.style.opacity=0,n()},imageUrlFor(e){return`path/to/images/${e}`}},data(){return{myData:[],hoveredProject:null}}},K=Object.assign(G,{__name:"project-index",setup(e){const n=m(d),i=u(!0),l=u([]),h=async()=>{i.value=!0;try{const t=await d.fetch(D`*[_type == "project"]`);l.value=t,console.log(l._value)}catch(t){console.error(t)}finally{i.value=!1}};return w(async()=>{await h()}),(t,c)=>{const f=y;return s(),b(k,{name:"fade",onBeforeEnter:t.beforeEnter,onEnter:t.enter,onLeave:t.leave},{default:x(()=>[i.value?(s(),a("div",I)):(s(),a("div",j,[r("div",P,[M(f)]),r("main",$,[r("div",C,[(s(!0),a(_,null,v(l.value,o=>B((s(),a("figure",{key:o._rev,class:"absolute w-full h-auto"},[o.cover_image.asset._ref?(s(),a("img",{key:0,src:E(n).image(o.cover_image.asset._ref),class:"pic w-full h-full object-cover"},null,8,F)):H("",!0)],512)),[[L,t.hoveredProject===o._rev]])),128))]),r("div",N,[(s(!0),a(_,null,v(l.value,(o,p)=>(s(),a("div",{key:o._rev,class:T(["inline-grid grid-cols-10 gap-6px items-end w-full border-white border-b-.6 py-2 cursor-pointer hover:bg-darkgreyHover",{"border-t-.6":p===0}]),onMouseover:g=>t.hoveredProject=o._rev,onMouseleave:c[0]||(c[0]=g=>t.hoveredProject=null)},[r("a",{href:"/progetti/"+o.slug.current,class:"col-span-6"},[r("p",{innerHTML:o.title,class:"truncate"},null,8,A)],8,z),r("p",{innerHTML:o.citta,class:"text-s col-start-7 col-span-3 truncate"},null,8,U),q],42,V))),128))])])]))]),_:1},8,["onBeforeEnter","onEnter","onLeave"])}}});export{K as default};
