{"version":3,"file":"project-index-Dal89lRi.js","sources":["../../../../pages/project-index.vue"],"sourcesContent":["<template>\n\n    <transition name=\"fade\" @before-enter=\"beforeEnter\" @enter=\"enter\" @leave=\"leave\">\n        <div v-if=\"loading\" class=\"bg-white w-screen h-screen fixed top-0 left-0\"></div>\n        <div v-else>\n            <div id=\"header-component\">\n                <Header></Header>\n            </div>\n            <main id=\"projectIndex\" class=\"bg-darkgrey w-auto h-screen p-20px\n            grid gap-6px auto-rows-1em grid-cols-24 pt-20vh text-white\">\n\n                <div id=\"mainImg\" class=\"relative h-full w-full col-start-1 col-span-7\">\n                    <template v-for=\"project in myData\" :key=\"project._rev\">\n                        <figure class=\"absolute w-full h-auto\"\n                        v-show=\"hoveredProject === project._rev\">\n                            <img v-if=\"project.cover_image.asset._ref\"\n                                :src=\"imageBuilder.image (project.cover_image.asset._ref)\"\n                                class=\"pic w-full h-full object-cover\"/>\n                        </figure>\n                    </template>\n                </div>\n\n                <div id=\"projectIndexText\" class=\"relative h-full w-full DM-Mono leading-tight\n                flex flex-col leading-normal col-start-9 col-span-16\">\n                    <template v-for=\"(project, index) in myData\" :key=\"project._rev\">\n                        <div class=\"inline-grid grid-cols-10 gap-6px items-end group\n                        w-full border-white border-b-.6 py-2 cursor-pointer hover:bg-darkgreyHover\"\n                        :class=\"{ 'border-t-.6': index === 0 }\"\n                        @mouseover=\"hoveredProject = project._rev\"\n                        @mouseleave=\"hoveredProject = null\">\n                            <a v-bind:href=\"'/progetti/'+ project.slug.current\"\n                            class=\"col-span-6\">\n                                <p v-html=\"project.title\" class=\"truncate\"></p>\n                            </a>\n                            <p v-html=\"project.citta\" class=\"text-s col-start-7 col-span-3 truncate\"></p>\n                            <p class=\"projectIndexArrow self-center col-start-10 col-span-1 text-right\n                            opacity-0 group-hover:opacity-100\"></p>\n                        </div>\n                    </template>\n                </div>\n\n            </main>\n        </div>\n    </transition>\n</template>\n  \n\n<script setup>\nimport { ref, onMounted, nextTick } from 'vue';\nimport sanity from \"../sanity/sanity.js\";\nimport imageUrlBuilder from \"@sanity/image-url\";\nimport groq from \"groq\"; // Ensure you have groq imported if used in your setup\n\nconst imageBuilder = imageUrlBuilder(sanity);\n\nconst loading = ref(true);\nconst myData = ref([]);\n\nconst fetchData = async () => {\n    loading.value = true;\n    try {\n        const data = await sanity.fetch(groq`*[_type == \"project\"]`);\n        myData.value = data;\n        console.log(myData._value);\n    } catch (error) {\n        console.error(error);\n    } finally {\n        loading.value = false;\n    }\n};\n\nonMounted(async () => {\n    await fetchData();\n});\n</script>\n\n<script>\nexport default {\n  methods: {\n    beforeEnter(el) {\n      el.style.opacity = 0;\n    },\n    enter(el, done) {\n      el.offsetHeight; // Trigger reflow\n      el.style.transition = 'opacity 0.5s';\n      el.style.opacity = 1;\n      done();\n    },\n    leave(el, done) {\n      el.style.transition = 'opacity 0.5s';\n      el.style.opacity = 0;\n      done();\n    },\n    imageUrlFor(image) {\n      return `path/to/images/${image}`;\n    }\n  },\n\n  data() {\n    return {\n      myData: [\n        // Your project data here\n      ],\n      hoveredProject: null\n    };\n  }\n};\n</script>\n\n"],"names":[],"mappings":";;;;;;AA6EA,MAAA,cAAe;AAAA,EACb,SAAS;AAAA,IACP,YAAY,IAAI;AACd,SAAG,MAAM,UAAU;AAAA,IACpB;AAAA,IACD,MAAM,IAAI,MAAM;AACd,SAAG;AACH,SAAG,MAAM,aAAa;AACtB,SAAG,MAAM,UAAU;AACnB;IACD;AAAA,IACD,MAAM,IAAI,MAAM;AACd,SAAG,MAAM,aAAa;AACtB,SAAG,MAAM,UAAU;AACnB;IACD;AAAA,IACD,YAAY,OAAO;AACjB,aAAO,kBAAkB,KAAK;AAAA,IAC/B;AAAA,EACF;AAAA,EAED,OAAO;AACL,WAAO;AAAA,MACL,QAAQ;AAAA;AAAA,MAEP;AAAA,MACD,gBAAgB;AAAA,IACtB;AAAA,EACG;AACH;;;;;AArDA,UAAM,eAAe,gBAAgB,MAAM;AAE3C,UAAM,UAAU,IAAI,IAAI;AACxB,UAAM,SAAS,IAAI,CAAA,CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}