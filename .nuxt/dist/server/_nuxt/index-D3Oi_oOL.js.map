{"version":3,"file":"index-D3Oi_oOL.js","sources":["../../../../pages/index.vue"],"sourcesContent":["<template>\n    <div id=\"header-component\">\n        <Header></Header>\n    </div>\n\n    <transition name=\"fade\"\n    @before-enter=\"beforeEnter\"\n    @enter=\"enter\"\n    @leave=\"leave\">\n        <div v-if=\"loading\" class=\"bg-white w-screen h-screen fixed top-0 left-0\">\n        </div>\n        <div v-else>\n\n            <main id=\"mainHome\">\n                <section id=\"s_1\">\n                </section>\n\n                <section id=\"s_2\">\n                    <img src=\"https://freight.cargo.site/t/original/i/eb7592ba1f63f887f8bfefe0682439c59867bdf787af1ada187e871fa91a7447/_Z9A3926.jpg\">\n                    <img src=\"https://freight.cargo.site/t/original/i/2a7cd7086a218f34084b4a2bcba1682f8eeec2272068baf14898a753f0279647/_Z9A3936.jpg\">\n                    <img src=\"https://freight.cargo.site/t/original/i/9f672c4aeda59bf5c45247795ff7f5cf9bbd74b9e5e6043597515054de662b08/_Z9A3872_a.jpg\">\n                </section>\n\n                <section id=\"s_3\">\n                    <p>Trasformare uno spazio in un luogo<br>\n                    di senso che faccia star bene chi<br>\n                    ci trascorre del tempo è per me<br>\n                    una gioia, ma non solo: è il mezzo<br>\n                    con cui faccio la mia parte nella<br>\n                    società civile.</p>\n                </section>\n\n                <!-- <section id=\"s_4\">\n                    <div class=\"imagesGroup\">\n                        <div class=\"image img_1\">\n                            <img src=\"https://freight.cargo.site/t/original/i/732eeab1c9250de3f02831b0394e080d320572e9d2862790526c9316502d9a77/_Z9A3996---dimensioni-grandi.jpeg\">\n                            <p>Piazzale Aquileia</p>\n                        </div>\n                        <div class=\"image img_2\">\n                            <img src=\"https://freight.cargo.site/t/original/i/034d4e19749dd252d9aed8dc1bc27a7cb97f5772074058f5ce47bbadc76728c0/Friuli30-Cristina-Galliena-Bohman---dimensioni-grandi.jpeg\">\n                            <p>Via Friuli</p>\n                        </div>\n                        <div class=\"image img_3\">\n                            <img src=\"https://freight.cargo.site/t/original/i/963733fd202bfec2c4118f44497e3c0530553b8376d34b0b4ad659f9c3bd6792/Londonio004-Casamenu---dimensioni-grandi.jpeg\">\n                            <p>Via Londonio</p>\n                        </div>\n                        <div class=\"image img_4\">\n                            <img src=\"https://freight.cargo.site/t/original/i/034d4e19749dd252d9aed8dc1bc27a7cb97f5772074058f5ce47bbadc76728c0/Friuli30-Cristina-Galliena-Bohman---dimensioni-grandi.jpeg\">\n                            <p>Via Friuli</p>\n                        </div>\n                    </div>\n                </section> -->\n\n                <section id=\"s_4\">\n                    <template v-for=\"project in myData\" :key=\"project._key\">\n                    <a v-bind:href=\"'/progetti/'+ project.slug.current\"\n                    class=\"flex\"\n                    :style=\"project.gridSpan ? {\n                        gridColumn: project.gridSpan.columnStart + ' / span ' + project.gridSpan.columnSpan,\n                        gridRow: project.gridSpan.rowStart + ' / span ' + project.gridSpan.rowSpan\n                    } : {}\">\n                        <!-- <p v-html=\"project.title\"></p> -->\n                        <figure\n                        class=\"group\">\n                            <p class=\"projectName opacity-0 group-hover:opacity-100 transition-opacity duration-500\n                            fixed pointer-events-none cursor-follower\">\n                                <span class=\"circle\"></span>\n                                <span v-html=\"project.title\"></span>\n                            </p>\n                            <img v-if=\"project.cover_image\"\n                            :src=\"imageBuilder.image (project.cover_image)\"\n                            class=\"pic w-full h-full object-cover\"/>\n                        </figure>\n                    </a>\n                    </template>\n                </section>\n            </main>\n\n        </div>\n    </transition>\n</template>\n  \n\n<script setup>\nimport { ref, onMounted, nextTick } from 'vue';\nimport sanity from \"../sanity/sanity.js\";\nimport imageUrlBuilder from \"@sanity/image-url\";\nimport groq from \"groq\"; // Ensure you have groq imported if used in your setup\n\nconst imageBuilder = imageUrlBuilder(sanity);\n\nconst loading = ref(true);\nconst myData = ref([]);\n\nconst fetchData = async () => {\n    loading.value = true;\n    try {\n        const data = await sanity.fetch(groq`*[_type == \"project\"]`);\n        myData.value = data;\n    } catch (error) {\n        console.error(error);\n    } finally {\n        loading.value = false;\n    }\n};\n\nconst changeBackgroundColor = () => {\n    const colors = [\"#723137\", \"#7d91a0\", \"#c3c2be\"];\n    const randomColor = colors[Math.floor(Math.random() * colors.length)];\n    const element = document.getElementById(\"s_1\");\n\n    if (element) {\n        element.style.backgroundColor = randomColor;\n    } else {\n        console.error(\"Element not found!\");\n    }\n};\n\nconst setupVisibilityToggle = () => {\n    const observer = new IntersectionObserver(entries => {\n        entries.forEach(entry => {\n            const sectionId = entry.target.getAttribute('id');\n            const spansRow = document.querySelector('#spansRow');\n            const spans = document.querySelectorAll('#head a.first');\n            const spansMenu = document.querySelectorAll('#head a.menu');\n            const myMains = document.querySelectorAll('#head a.main');\n\n            if (entry.isIntersecting) {\n                if (entry.target.id == \"s_4\") {\n                    spansRow.classList.add('visible');\n                    spansMenu.forEach(span => {\n                        span.classList.add('visible');\n                    });\n                    document.querySelector('#head p.arch').classList.add('invisible');\n                    myMains[0].classList.add('small');\n                    myMains[1].classList.add('small');\n                    \n                    document.querySelector('#head a.blankSpace').classList.add('invisible');\n                    document.querySelector('#head a.first').classList.add('invisible');\n                } else {\n                    spansRow.classList.remove('visible');\n                    spansMenu.forEach(span => {\n                        span.classList.remove('visible');\n                    });\n                    document.querySelector('#head p.arch').classList.remove('invisible');\n                    myMains[0].classList.remove('small');\n                    myMains[1].classList.remove('small');\n                    \n                    document.querySelector('#head a.blankSpace').classList.remove('invisible');\n                    document.querySelector('#head a.first').classList.remove('invisible');\n                }\n\n                if (entry.target.id == \"s_4\") {\n                    document.getElementById(\"head\").style.color = 'white';\n                    document.getElementById(\"head\").style.mixBlendMode = 'difference';\n                    document.getElementById(\"head\").classList.add('s4');\n                } else if (entry.target.id == \"s_1\") {\n                    document.getElementById(\"head\").style.color = 'white';\n                    document.getElementById(\"head\").style.mixBlendMode = 'normal';\n                    document.getElementById(\"head\").classList.remove('s4');\n                    \n                    spans.forEach(span => {\n                        span.style.opacity = '1';\n                        span.style.pointerEvents = 'auto';\n                    });\n                    myMains[0].classList.remove('show-dot');\n                    myMains[1].classList.remove('show-dot');\n                } else {\n                    document.getElementById(\"head\").style.color = 'black';\n                    document.getElementById(\"head\").style.mixBlendMode = 'normal';\n                    spans.forEach(span => {\n                        span.style.opacity = '0';\n                        span.style.pointerEvents = 'none';\n                    });\n                    myMains[0].classList.add('show-dot');\n                    myMains[1].classList.add('show-dot');\n                }\n            }\n        });\n    }, { threshold: 0.5 }); // Trigger when at least 50% of the section is in view\n    \n    const sections = document.querySelectorAll('section[id^=\"s_\"]');\n    sections.forEach(section => {\n        observer.observe(section);\n    });\n};\n\nonMounted(async () => {\n    await fetchData();\n    await nextTick();\n    changeBackgroundColor();\n    setupVisibilityToggle();\n\n\n    const followers = document.querySelectorAll('.cursor-follower');\n\n    const updateFollowerPositions = (event) => {\n        const x = event.clientX;\n        const y = event.clientY;\n\n        followers.forEach((follower) => {\n        follower.style.left = `${x}px`;\n        follower.style.top = `${y}px`;\n        });\n    };\n\n    document.addEventListener('mousemove', updateFollowerPositions);\n\n    // Clean up the event listener on unmount\n    onBeforeUnmount(() => {\n        document.removeEventListener('mousemove', updateFollowerPositions);\n    });\n});\n</script>\n\n\n\n<script>\nexport default {\n  methods: {\n    beforeEnter(el) {\n      el.style.opacity = 0;\n    },\n    enter(el, done) {\n      el.offsetHeight; // Trigger reflow\n      el.style.transition = 'opacity 0.5s';\n      el.style.opacity = 1;\n      done();\n    },\n    leave(el, done) {\n      el.style.transition = 'opacity 0.5s';\n      el.style.opacity = 0;\n      done();\n    },\n    imageUrlFor(image) {\n      return `path/to/images/${image}`;\n    }\n  }\n};\n</script>"],"names":[],"mappings":";;;;;;AA0NA,MAAA,cAAe;AAAA,EACb,SAAS;AAAA,IACP,YAAY,IAAI;AACd,SAAG,MAAM,UAAU;AAAA,IACrB;AAAA,IACA,MAAM,IAAI,MAAM;AACX,SAAA;AACH,SAAG,MAAM,aAAa;AACtB,SAAG,MAAM,UAAU;AACd;IACP;AAAA,IACA,MAAM,IAAI,MAAM;AACd,SAAG,MAAM,aAAa;AACtB,SAAG,MAAM,UAAU;AACd;IACP;AAAA,IACA,YAAY,OAAO;AACjB,aAAO,kBAAkB,KAAK;AAAA,IAChC;AAAA,EACF;AACF;;;;;AArJM,UAAA,eAAe,gBAAgB,MAAM;AAErC,UAAA,UAAU,IAAI,IAAI;AAClB,UAAA,SAAS,IAAI,CAAA,CAAE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;"}