import{i as m,s as d,_ as y}from"./BONjJ-zX.js";import{r as u,o as w,E as b,A as x,T as k,t as r,v as a,x as s,z as M,F as v,G as _,$ as B,H as E,I as H,a0 as L,Y as T}from"./CrCovwsK.js";import{g as D}from"./DBO2yGN5.js";const I={key:0,class:"bg-white w-screen h-screen fixed top-0 left-0"},$={key:1},j={id:"header-component"},P={id:"projectIndex",class:"bg-darkgrey w-auto h-screen p-20px grid gap-6px auto-rows-1em grid-cols-24 pt-20vh text-white"},C={id:"mainImg",class:"relative h-full w-full col-start-1 col-span-7"},F=["src"],N={id:"projectIndexText",class:"relative h-[80dvh] w-full DM-Mono leading-tight flex flex-col leading-normal col-start-9 col-span-16 overflow-scroll pb-20px"},V=["onMouseover"],z=["href"],A=["innerHTML"],U=["innerHTML"],q=s("p",{class:"projectIndexArrow self-center col-start-10 col-span-1 text-right opacity-0 group-hover:opacity-100"},null,-1),G={methods:{beforeEnter(e){e.style.opacity=0},enter(e,n){e.offsetHeight,e.style.transition="opacity 0.5s",e.style.opacity=1,n()},leave(e,n){e.style.transition="opacity 0.5s",e.style.opacity=0,n()},imageUrlFor(e){return`path/to/images/${e}`}},data(){return{myData:[],hoveredProject:null}}},J=Object.assign(G,{__name:"project-index",setup(e){const n=m(d),i=u(!0),l=u([]),h=async()=>{i.value=!0;try{const t=await d.fetch(D`*[_type == "project"]`);l.value=t,console.log(l._value)}catch(t){console.error(t)}finally{i.value=!1}};return w(async()=>{await h()}),(t,c)=>{const p=y;return r(),b(k,{name:"fade",onBeforeEnter:t.beforeEnter,onEnter:t.enter,onLeave:t.leave},{default:x(()=>[i.value?(r(),a("div",I)):(r(),a("div",$,[s("div",j,[M(p)]),s("main",P,[s("div",C,[(r(!0),a(v,null,_(l.value,o=>B((r(),a("figure",{key:o._rev,class:"absolute w-full h-auto"},[o.cover_image.asset._ref?(r(),a("img",{key:0,src:E(n).image(o.cover_image.asset._ref),class:"pic w-full h-full object-cover"},null,8,F)):H("",!0)],512)),[[L,t.hoveredProject===o._rev]])),128))]),s("div",N,[(r(!0),a(v,null,_(l.value,(o,f)=>(r(),a("div",{key:o._rev,class:T(["inline-grid grid-cols-10 gap-6px items-end group w-full border-white border-b-.6 py-2 cursor-pointer hover:bg-darkgreyHover",{"border-t-.6":f===0}]),onMouseover:g=>t.hoveredProject=o._rev,onMouseleave:c[0]||(c[0]=g=>t.hoveredProject=null)},[s("a",{href:"/progetti/"+o.slug.current,class:"col-span-6"},[s("p",{innerHTML:o.title,class:"truncate"},null,8,A)],8,z),s("p",{innerHTML:o.citta,class:"text-s col-start-7 col-span-3 truncate"},null,8,U),q],42,V))),128))])])]))]),_:1},8,["onBeforeEnter","onEnter","onLeave"])}}});export{J as default};
